PREPROCESSING SETUP (Person 1 → Others)

This project uses MediaPipe Tasks + OpenCV to extract:
- face landmarks
- pose landmarks (33 joints)
- aligned face crops
- skeleton renderings
- per-frame quality masks

The generated outputs are stored locally and are NOT pushed to GitHub.

--------------------------------------------------
1. REQUIRED SOFTWARE
--------------------------------------------------

Python: 3.11 or 3.13  
OS: Windows / Linux / macOS

--------------------------------------------------
2. REQUIRED PYTHON PACKAGES
--------------------------------------------------

Install dependencies using:

pip install -r requirements.txt

Minimum required packages:

opencv-python
numpy
mediapipe
torch
torchvision
pyyaml
tqdm

--------------------------------------------------
3. REQUIRED MODEL FILES (IMPORTANT)
--------------------------------------------------

The following MediaPipe task models are REQUIRED and
ARE ALREADY INCLUDED IN THE REPOSITORY:

assets/video/
├── face_landmarker.task
├── pose_landmarker_full.task

DO NOT download them again.
DO NOT move or rename them.

The code expects them exactly at this path:
assets/video/

--------------------------------------------------
4. RAW DATA LOCATION
--------------------------------------------------

Raw videos are NOT tracked by git.

Each user must have the raw dataset locally.
Update paths or CSV accordingly.

--------------------------------------------------
5. HOW TO RUN PREPROCESSING
--------------------------------------------------

From the repository root:

python -m src.pipeline.preprocess

--------------------------------------------------
6. OUTPUTS (GENERATED LOCALLY)
--------------------------------------------------

The following folders are created locally and ignored by git:

data/processed/
├── faces/        # aligned 224x224 face crops
├── skeletons/    # rendered pose skeleton images
├── quality/      # per-frame validity masks

These outputs are REQUIRED for:
- cnn_encoders/
- microkinetics_events/

--------------------------------------------------
7. IMPORTANT NOTES
--------------------------------------------------

- Do NOT commit anything inside data/processed/
- If outputs are missing, rerun preprocess.py
- All results are reproducible from raw data + code

--------------------------------------------------
END
--------------------------------------------------
